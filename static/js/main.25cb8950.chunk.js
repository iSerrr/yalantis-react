(this.webpackJsonpyalantis=this.webpackJsonpyalantis||[]).push([[0],{21:function(e,t,c){e.exports={App:"App_App__1srmO"}},23:function(e,t,c){e.exports={BirthCard:"BirthCard_BirthCard__3b53a"}},29:function(e,t,c){},47:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(1),a=c.n(r),s=c(20),o=c.n(s),l=(c(29),c(3)),i=c(10),p=c(21),u=c.n(p),m=c(22),j=c.n(m),d="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),h=["January","February","March","April","May","June","July","August","September","October","November","December"],y=c(11),b=function(e,t){var c=function(){var e={};return t.map((function(t){return e[t.toLowerCase()]=[],null})),e}();e.map((function(e){var n=t.length>20?e.lastName.substr(0,1).toLowerCase():h[new Date(e.dob).getMonth()].toLowerCase();return c[n]=[].concat(Object(y.a)(c[n]),[e]),null}));var n=[];for(var r in c)n=[].concat(Object(y.a)(n),[{title:r,employees:c[r]}]);return n},O=c(8),f=c.n(O),x=c(9),_=c.n(x),g=c(5),E=c.n(g),v=function(e){var t=e.employee,c=e.type,a=Object(r.useContext)(B).toggleChecked,s=new Date(t.dob),o="- ".concat(s.getDate()," ").concat(h[s.getMonth()],", ").concat(s.getFullYear()," year"),l="".concat(t.lastName," ").concat(t.firstName," ").concat("date"===c?o:"");return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("li",{className:[E.a.employee,"date"===c?E.a.date:E.a.primary].join(" "),children:[Object(n.jsx)("input",{id:t.id,type:"checkbox",className:E.a.checkbox,checked:t.checked,onChange:function(){return a(t.id)}}),Object(n.jsx)("label",{htmlFor:t.id,children:l})]})})},N=a.a.memo(v),k=function(e){var t=e.letter,c=e.employees,r=e.showEmpty,a=e.type;return r?Object(n.jsxs)("li",{className:_.a[a],children:[Object(n.jsx)("h2",{children:t.toUpperCase()}),0!==c.length?Object(n.jsx)("ul",{children:c.map((function(e){return Object(n.jsx)(N,{employee:e,type:a},e.id)}))}):Object(n.jsx)("p",{children:"-"})]}):0!==c.length?Object(n.jsxs)("li",{className:_.a[a],children:[Object(n.jsx)("h2",{children:t.toUpperCase()}),Object(n.jsx)("ul",{children:c.map((function(e){return Object(n.jsx)(N,{employee:e,type:a},e.id)}))})]}):""},C=function(e){var t=e.employees;return Object(n.jsxs)("div",{className:f.a.Employees,children:[Object(n.jsx)("h1",{children:"Employees"}),Object(n.jsx)("ul",{className:f.a.list,children:b(t,d).map((function(e,t){return Object(n.jsx)(k,{letter:e.title,employees:e.employees,showEmpty:!0,type:"primary"},t)}))})]})},w=c(23),S=c.n(w),I=function(e){var t=e.employees,c=function(e){return e.filter((function(e){return e.checked}))};return Object(n.jsxs)("div",{className:S.a.BirthCard,children:[Object(n.jsx)("h1",{children:"Employees birthday"}),0!==c(t).length?Object(n.jsx)("ul",{children:b(c(t),h).map((function(e,t){return Object(n.jsx)(k,{letter:e.title,employees:e.employees,showEmpty:!1,type:"date"},t)}))}):Object(n.jsx)("span",{children:"No selected employees"})]})},B=a.a.createContext(),J=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(r.useState)(localStorage.getItem("employeesId")?JSON.parse(localStorage.getItem("employeesId")):[]),o=Object(i.a)(s,2),p=o[0],m=o[1];Object(r.useEffect)((function(){j.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){return e.data.map((function(e){return p.includes(e.id)?Object(l.a)(Object(l.a)({},e),{},{checked:!0}):Object(l.a)(Object(l.a)({},e),{},{checked:!1})}))})).then((function(e){return a(e)}))}),[]),Object(r.useEffect)((function(){0!==c.length&&m(c.filter((function(e){return e.checked})).map((function(e){return e.id})))}),[c]),Object(r.useEffect)((function(){0!==c.length&&localStorage.setItem("employeesId",JSON.stringify(p))}),[p]);return Object(n.jsx)(B.Provider,{value:{toggleChecked:function(e){a(c.map((function(t){return t.id===e?Object(l.a)(Object(l.a)({},t),{},{checked:!t.checked}):t})))}},children:Object(n.jsxs)("div",{className:u.a.App,children:[Object(n.jsx)(C,{employees:c}),Object(n.jsx)(I,{employees:c})]})})};o.a.render(Object(n.jsx)(J,{}),document.getElementById("root"))},5:function(e,t,c){e.exports={employee:"Employee_employee__1qpN3",primary:"Employee_primary__2mvBM",checkbox:"Employee_checkbox__13x-r",date:"Employee_date__1BM_l"}},8:function(e,t,c){e.exports={Employees:"employees_Employees__3INj-",list:"employees_list__1Pw6W"}},9:function(e,t,c){e.exports={primary:"ListEmployeesSegment_primary__3KP9s",date:"ListEmployeesSegment_date__Ow3pu"}}},[[47,1,2]]]);
//# sourceMappingURL=main.25cb8950.chunk.js.map